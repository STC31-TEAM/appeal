<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org"
      th:replace="~{layouts/main-layout :: main-fragment(
                                                ~{:: title},
                                                ~{:: #content},
                                                ~{:: #nav-left},
                                                ~{:: #nav-right}
                                               )}" lang="ru">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" th:href="@{/bootstrap-5.0/css/bootstrap.min.css}">
    <link rel="stylesheet" th:href="@{/bootstrap-icons-1.3.0/bootstrap-icons.css}"/>
    <link rel="stylesheet" th:href="@{/styles.css}">
    <script th:src="@{/jquery-3.3.1.min.js}"></script>
    <script th:src="@{/bootstrap-5.0/js/bootstrap.min.js}"></script>
    <script th:src="@{/scripts.js}"></script>
    <title>Регистрация пользователя</title>
</head>
<body>
<!-- Left navigation -->
<ul id="nav-left" class="nav nav-main dropdown">
    <button class="btn dropdown-toggle dropbtn">Explore</button>
    <li class="nav-item dropdown-content">
        <a class="nav-link" href="/companyAll">Компании</a>
        <a class="nav-link" href="/ticketAll">Заявки</a>
        <a class="nav-link" href="#">Explore3</a>
    </li>
</ul>

<!-- Right navigation -->
<ul id="nav-right" class="nav nav-main justify-content-end">
    <li class="nav-item">
        <a class="nav-link" href="#">Log In</a>
    </li>
    <li class="nav-item">
        <a class="nav-link" href="/createUserOrCompany">Sign Up</a>
    </li>
</ul>
<div id="content" class="content">
    <div class="container-md">
        <h2 class="title-main">Зарегистрированные компании</h2>
        <div class="accordion" id="accordion" >
            <th:block th:each="company : ${allCompany}">
                <div class="accordion-item">
                    <h2 class="accordion-header" th:id="'heading' + ${company.value.getId()}">
                        <button class="accordion-button" type="button" data-bs-toggle="collapse" th:data-bs-target="'#collapse' + ${company.value.getId()}" aria-expanded="true" th:data-bs-aria="'collapse' + ${company.value.getId()}" th:text="${company.key}">
                        </button>
                    </h2>
                    <div th:id="'collapse' + ${company.value.getId()}" class="accordion-collapse collapse" th:labelledby="'heading' + ${company.value.getId()}" data-bs-parent="#accordion">
                        <div class="accordion-body">
                            <tbody>
                            <tr>
                                <td>
                                    <ul>
                                        <li th:text="'Адрес компании: ' + *{company.value.getFullAddress()}"></li>
                                        <li th:text="'Телефон: ' + *{company.value.getPhone()}"></li>
                                        <li th:text="'Электронный адрес: ' + *{company.value.getEmail()}"></li>
                                        <li th:text="'Статус компании: ' + *{company.value.getStatus()}"></li>
                                    </ul>
                                </td>
                            </tr>
                            </tbody>

                        </div>
                    </div>
                </div>
            </th:block>
        </div>
    </div>
</div>
</body>
</html>